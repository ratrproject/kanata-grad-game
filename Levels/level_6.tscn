[gd_scene load_steps=26 format=3 uid="uid://b2wtme4sj3yp0"]

[ext_resource type="PackedScene" uid="uid://dn3aplp4ldeed" path="res://Levels/level_base.tscn" id="1_4lr4b"]
[ext_resource type="Texture2D" uid="uid://daruj0wybjoh0" path="res://Sprites/Background/Level6/background-3.png" id="2_4lr4b"]
[ext_resource type="Texture2D" uid="uid://btp0o04bqloxr" path="res://Sprites/Background/Level6/background-2.png" id="3_5fc7w"]
[ext_resource type="Texture2D" uid="uid://ba1a0e8o8dgsj" path="res://Sprites/Background/Level6/background-1.png" id="4_6okxb"]
[ext_resource type="Script" uid="uid://b17stwfq4t7bp" path="res://Scripts/Map/Checkpoint.gd" id="5_6okxb"]
[ext_resource type="PackedScene" uid="uid://cpi2h8lffl18r" path="res://Scenes/Enemy/luna.tscn" id="6_al66v"]
[ext_resource type="PackedScene" uid="uid://s1ebgly17hre" path="res://Scenes/Enemy/watame.tscn" id="7_al66v"]
[ext_resource type="PackedScene" uid="uid://bv585wa51usdu" path="res://Scenes/Enemy/towa.tscn" id="8_qcwlp"]
[ext_resource type="PackedScene" uid="uid://eabbwl83jpmr" path="res://Scenes/Enemy/upao.tscn" id="8_s3aiw"]
[ext_resource type="PackedScene" uid="uid://dgm2q3p3qsdqk" path="res://Scenes/Enemy/coco.tscn" id="9_gy5r3"]
[ext_resource type="PackedScene" uid="uid://c22hk245n7t68" path="res://Scenes/State/path_state.tscn" id="9_ugxhc"]
[ext_resource type="PackedScene" uid="uid://n3w43jijqcps" path="res://Scenes/State/towa_state.tscn" id="10_rolfb"]
[ext_resource type="Script" uid="uid://bskcghk8qpf2x" path="res://addons/BulletUpHell/Nodes/BuHSpawnPoint.gd" id="11_sio2j"]
[ext_resource type="PackedScene" uid="uid://b46aqpgpgeavs" path="res://Scenes/State/coco_state.tscn" id="13_rolfb"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s3aiw"]
size = Vector2(20, 1000)

[sub_resource type="Curve2D" id="Curve2D_qcwlp"]
bake_interval = 50.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1128, -555, 688.5209, -214.5733, -688.5209, 214.5733, 385, 112)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qcwlp"]
size = Vector2(20, 1000)

[sub_resource type="Curve2D" id="Curve2D_gy5r3"]
bake_interval = 50.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1503, 126, 0, 0, 0, 0, 788, 136)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cc6nk"]
size = Vector2(20, 1000)

[sub_resource type="Curve2D" id="Curve2D_ce5na"]
bake_interval = 50.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 275, -534, 688.5209, -214.5733, -688.5209, 214.5733, 385, 112)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sio2j"]
size = Vector2(20, 1000)

[sub_resource type="Curve2D" id="Curve2D_cc6nk"]
bake_interval = 50.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 285, 1199, 688.5209, -214.5733, -688.5209, 214.5733, 385, 112)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_gpb84"]
bake_interval = 40.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 9, -40, 0, 0, 0, 0, -151, -476)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_smkgk"]
bake_interval = 40.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1, 3, 0, 0, 0, 0, -184, 268)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ksj5j"]
bake_interval = 40.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -7, 18, 0, 0, 0, 0, -990, 14)
}
point_count = 2

[node name="GameMain" instance=ExtResource("1_4lr4b")]

[node name="Player" parent="." index="0"]
LunaSupportUnlocked = true
WatameSupportUnlocked = true
TowaSupportUnlocked = true
CocoSupportUnlocked = true

[node name="Sprite2D" parent="WorldMap/Background/Back/Area2D" index="0"]
texture = ExtResource("2_4lr4b")

[node name="Sprite2D" parent="WorldMap/Background/Back/Area2D2" index="0"]
texture = ExtResource("2_4lr4b")

[node name="Sprite2D" parent="WorldMap/Background/Back/Area2D3" index="0"]
texture = ExtResource("2_4lr4b")

[node name="Clouds" parent="WorldMap/Background/Back" index="3"]
customColor = true
colorMin = Color(0.47058824, 0.47058824, 0.47058824, 1)

[node name="Sprite2D" parent="WorldMap/Background/Mid/Area2D" index="0"]
texture = ExtResource("3_5fc7w")

[node name="Sprite2D" parent="WorldMap/Background/Mid/Area2D2" index="0"]
texture = ExtResource("3_5fc7w")

[node name="Sprite2D" parent="WorldMap/Background/Mid/Area2D3" index="0"]
texture = ExtResource("3_5fc7w")

[node name="Sprite2D" parent="WorldMap/Background/Front/Area2D" index="0"]
texture = ExtResource("4_6okxb")

[node name="Sprite2D" parent="WorldMap/Background/Front/Area2D2" index="0"]
texture = ExtResource("4_6okxb")

[node name="Sprite2D" parent="WorldMap/Background/Front/Area2D3" index="0"]
texture = ExtResource("4_6okxb")

[node name="Checkpoint10" type="Node2D" parent="WorldMap/Checkpoints" index="1"]
position = Vector2(305, 361)
script = ExtResource("5_6okxb")
callMethod = "unlockLuna"

[node name="Area2D" type="Area2D" parent="WorldMap/Checkpoints/Checkpoint10" index="0"]
position = Vector2(-191, 34)
collision_layer = 256
collision_mask = 512

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldMap/Checkpoints/Checkpoint10/Area2D" index="0"]
shape = SubResource("RectangleShape2D_s3aiw")

[node name="Enemies" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint10" index="1"]
position = Vector2(69, 0)

[node name="Luna" parent="WorldMap/Checkpoints/Checkpoint10/Enemies" index="0" instance=ExtResource("6_al66v")]
position = Vector2(1849, -624)
collision_mask = 8
MaxHealth = 400.0
Paths = [NodePath("../../Paths/Enemy/Path2D")]

[node name="Paths" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint10" index="2"]
position = Vector2(69, 0)

[node name="Enemy" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint10/Paths" index="0"]
position = Vector2(701, 0)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint10/Paths/Enemy" index="0"]
curve = SubResource("Curve2D_qcwlp")

[node name="Checkpoint11" type="Node2D" parent="WorldMap/Checkpoints" index="2"]
position = Vector2(563, 363)
script = ExtResource("5_6okxb")
callMethod = "unlockWatame"

[node name="Area2D" type="Area2D" parent="WorldMap/Checkpoints/Checkpoint11" index="0"]
position = Vector2(-364, 34)
collision_layer = 256
collision_mask = 512

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldMap/Checkpoints/Checkpoint11/Area2D" index="0"]
shape = SubResource("RectangleShape2D_qcwlp")

[node name="Enemies" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint11" index="1"]
position = Vector2(-104, 0)

[node name="Watame" parent="WorldMap/Checkpoints/Checkpoint11/Enemies" index="0" instance=ExtResource("7_al66v")]
position = Vector2(1993, 122)
Paths = [NodePath("../../Paths/Enemy/Path2D")]

[node name="Paths" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint11" index="2"]
position = Vector2(-104, 0)

[node name="Enemy" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint11/Paths" index="0"]
position = Vector2(387, 0)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint11/Paths/Enemy" index="0"]
curve = SubResource("Curve2D_gy5r3")

[node name="Checkpoint12" type="Node2D" parent="WorldMap/Checkpoints" index="3"]
position = Vector2(486, 363)
script = ExtResource("5_6okxb")
callMethod = "unlockTowa"

[node name="Area2D" type="Area2D" parent="WorldMap/Checkpoints/Checkpoint12" index="0"]
position = Vector2(-191, 34)
collision_layer = 256
collision_mask = 512

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldMap/Checkpoints/Checkpoint12/Area2D" index="0"]
shape = SubResource("RectangleShape2D_cc6nk")

[node name="Enemies" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12" index="1"]
position = Vector2(69, 0)

[node name="Towa" parent="WorldMap/Checkpoints/Checkpoint12/Enemies" index="0" instance=ExtResource("8_qcwlp")]
position = Vector2(876, -622)
Behavior = 3
Paths = [NodePath("../../Paths/Enemy/Path2D")]
States = [NodePath("PathState"), NodePath("TowaState")]
WanderRadius = 300.0

[node name="PathState" parent="WorldMap/Checkpoints/Checkpoint12/Enemies/Towa" index="0" instance=ExtResource("9_ugxhc")]
move_speed = 500
patrol_path = NodePath("../../../Paths/Enemy/Path2D")

[node name="TowaState" parent="WorldMap/Checkpoints/Checkpoint12/Enemies/Towa" index="7" instance=ExtResource("10_rolfb")]
FiringNodes = [NodePath("../../../Node2D/SpawnPoint"), NodePath("../../../Node2D/SpawnPoint2"), NodePath("../../../Node2D/SpawnPoint3"), NodePath("../../../Node2D/SpawnPoint4"), NodePath("../../../Node2D/SpawnPoint5"), NodePath("../../../Node2D/SpawnPoint6"), NodePath("../../../Node2D/SpawnPoint7"), NodePath("../../../Node2D/SpawnPoint8"), NodePath("../../../Node2D/SpawnPoint9"), NodePath("../../../Node2D/SpawnPoint10")]

[node name="Paths" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12" index="2"]
position = Vector2(69, 0)

[node name="Enemy" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Paths" index="0"]
position = Vector2(701, 0)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint12/Paths/Enemy" index="0"]
curve = SubResource("Curve2D_ce5na")

[node name="Node2D" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12" index="3"]

[node name="SpawnPoint" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="0"]
position = Vector2(1768, -218)
rotation = -3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "20"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint2" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="1"]
position = Vector2(1768, -18)
rotation = -3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "20"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint3" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="2"]
position = Vector2(1768, 182)
rotation = -3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "20"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint4" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="3"]
position = Vector2(1768, 382)
rotation = -3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "20"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint5" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="4"]
position = Vector2(1768, 582)
rotation = -3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "20"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint6" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="5"]
position = Vector2(0, -500)
rotation = 1.5707964
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "21"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint7" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="6"]
position = Vector2(280, -500)
rotation = 1.5707964
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "21"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint8" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="7"]
position = Vector2(560, -500)
rotation = 1.5707964
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "21"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint9" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="8"]
position = Vector2(840, -500)
rotation = 1.5707964
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "21"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="SpawnPoint10" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint12/Node2D" index="9"]
position = Vector2(1120, -500)
rotation = 1.5707964
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "21"
shared_area_name = "1"
rotating_speed = 0.0
rotating_angle_limit = false
rotating_angle = 0.0
rotating_angle_default = 0.0
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="Checkpoint15" type="Node2D" parent="WorldMap/Checkpoints" index="4"]
position = Vector2(588, 363)
script = ExtResource("5_6okxb")
callMethod = "unlockCoco"

[node name="Area2D" type="Area2D" parent="WorldMap/Checkpoints/Checkpoint15" index="0"]
position = Vector2(-191, 34)
collision_layer = 256
collision_mask = 512

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldMap/Checkpoints/Checkpoint15/Area2D" index="0"]
shape = SubResource("RectangleShape2D_sio2j")

[node name="Enemies" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15" index="1"]
position = Vector2(69, 0)

[node name="Coco" parent="WorldMap/Checkpoints/Checkpoint15/Enemies" index="0" instance=ExtResource("9_gy5r3")]
position = Vector2(1036, 1258)
Behavior = 3
States = [NodePath("PathState"), NodePath("CocoState")]

[node name="SpawnPoint" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15/Enemies/Coco" index="0"]
position = Vector2(-123, 4)
rotation = 3.1415927
script = ExtResource("11_sio2j")
active = false
auto_pattern_id = "16"
shared_area_name = "1"
rotating_speed = 0.524
rotating_angle_limit = true
rotating_angle = 1.5999999999999943
rotating_angle_default = 3.0999999999999943
pool_amount = 50
auto_start_on_cam = true
auto_start_after_time = 0.0
auto_start_at_distance = 5.0
auto_distance_from = NodePath("")
trigger_container = NodePath("")

[node name="PathState" parent="WorldMap/Checkpoints/Checkpoint15/Enemies/Coco" index="7" instance=ExtResource("9_ugxhc")]
move_speed = 500
patrol_path = NodePath("../../../Paths/Enemy/Path2D")

[node name="CocoState" parent="WorldMap/Checkpoints/Checkpoint15/Enemies/Coco" index="8" instance=ExtResource("13_rolfb")]
SpawnPoints = [NodePath("../../../Paths/Enemy2/Path2D"), NodePath("../../../Paths/Enemy3/Path2D"), NodePath("../../../Paths/Enemy4/Path2D")]
FiringNodes = [NodePath("../SpawnPoint")]

[node name="Paths" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15" index="2"]
position = Vector2(69, 0)

[node name="Enemy" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths" index="0"]
position = Vector2(701, 0)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths/Enemy" index="0"]
position = Vector2(177, 0)
curve = SubResource("Curve2D_cc6nk")

[node name="Enemy2" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths" index="1"]
position = Vector2(477, 643)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths/Enemy2" index="0"]
position = Vector2(638, 296)
curve = SubResource("Curve2D_gpb84")

[node name="Enemy3" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths" index="2"]
position = Vector2(477, 711)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths/Enemy3" index="0"]
position = Vector2(720, -1263)
curve = SubResource("Curve2D_smkgk")

[node name="Enemy4" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths" index="3"]
position = Vector2(477, 582)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint15/Paths/Enemy4" index="0"]
position = Vector2(1475, -438)
curve = SubResource("Curve2D_ksj5j")

[node name="Checkpoint14" type="Node2D" parent="WorldMap/Checkpoints" index="5"]
position = Vector2(847, 363)
script = ExtResource("5_6okxb")
finalCheckpoint = true

[node name="Area2D" type="Area2D" parent="WorldMap/Checkpoints/Checkpoint14" index="0"]
position = Vector2(-364, 34)
collision_layer = 256
collision_mask = 512

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldMap/Checkpoints/Checkpoint14/Area2D" index="0"]
shape = SubResource("RectangleShape2D_qcwlp")

[node name="Enemies" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint14" index="1"]
position = Vector2(-104, 0)

[node name="Upao" parent="WorldMap/Checkpoints/Checkpoint14/Enemies" index="0" instance=ExtResource("8_s3aiw")]
position = Vector2(2070, 116)
Paths = [NodePath("../../Paths/Enemy/Path2D")]
WanderRadius = 300.0

[node name="Paths" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint14" index="2"]
position = Vector2(-104, 0)

[node name="Enemy" type="Node2D" parent="WorldMap/Checkpoints/Checkpoint14/Paths" index="0"]
position = Vector2(387, 0)

[node name="Path2D" type="Path2D" parent="WorldMap/Checkpoints/Checkpoint14/Paths/Enemy" index="0"]
curve = SubResource("Curve2D_gy5r3")

[node name="CanvasLayer" parent="." index="6"]
alt_image_path = "res://Sprites/Ending/Ending6.png"

[connection signal="area_entered" from="WorldMap/Checkpoints/Checkpoint10/Area2D" to="WorldMap/Checkpoints/Checkpoint10" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="WorldMap/Checkpoints/Checkpoint11/Area2D" to="WorldMap/Checkpoints/Checkpoint11" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="WorldMap/Checkpoints/Checkpoint12/Area2D" to="WorldMap/Checkpoints/Checkpoint12" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="WorldMap/Checkpoints/Checkpoint15/Area2D" to="WorldMap/Checkpoints/Checkpoint15" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="WorldMap/Checkpoints/Checkpoint14/Area2D" to="WorldMap/Checkpoints/Checkpoint14" method="_on_area_2d_area_entered"]
